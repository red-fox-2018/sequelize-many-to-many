<!DOCTYPE html>
<html>

<head>
  <% include ../partials/head %>
</head>

<body>
  <div class="container">
    <% include ../partials/header %>
      <h2>
        <%= subject.name %>
      </h2>
      <hr>
      <% if (students.length) { %>
        <table class="table table-striped">
          <thead>
            <tr>
              <th>No.</th>
              <th>Name</th>
              <th>Score</th>
            </tr>
          </thead>
          <tbody>
            <% students.forEach((student, index) => { %>
              <tr>
                <td>
                  <%= index + 1 %>
                </td>
                <td>
                  <%= student.getFullName() %>
                </td>
                <td>
                  <% if(student.StudentSubject.StudentSubject == null ) { %>
                    <a href="/subjects/<%= student.id %>/score" class="btn btn-sm btn-warning">Give Score</a>
                    <% } else { %>
                      <% student.StudentSubject.StudentSubject %>
                        <% } %>
                </td>
              </tr>
              <% }) %>
          </tbody>
        </table>
        <% } else { %>
          <p class="text-muted text-center">This subject doesn't have any Student</p>
          <% } %>
            <a href="/subjects" class="btn btn-primary">&larr; Back to subjects</a>
  </div>
</body>

<footer>
  <% include ../partials/footer %>
</footer>

</html>
